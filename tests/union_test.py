import polybool as pb


def test_case_1():
    region_a = [
        (174.731903, -72.989276),
        (-70.77748, -53.08311),
        (-72.252011, 215.281501),
        (129.021448, 126.809651),
        (106.16622, 28.016086),
        (216.756032, 22.117962),
        (174.731903, -72.989276),
    ]

    region_b = [
        (-169.571046, -98.793566),
        (-145.241287, 63.404826),
        (11.796247, 34.651475),
        (8.10992, -129.758713),
        (-76.675603, -216.018767),
        (-169.571046, -98.793566),
    ]

    result = pb.union(pb.Polygon([region_a]), pb.Polygon([region_b]))

    assert len(result.regions) == 1

    region = result.regions[0]

    except_region = [
        216.756032,
        22.117962,
        174.731903,
        -72.989276,
        9.68283014596045,
        -59.60691886875095,
        8.10992,
        -129.758713,
        -76.675603,
        -216.018767,
        -169.571046,
        -98.793566,
        -145.241287,
        63.404826,
        -71.34317949796957,
        49.87418673740427,
        -72.252011,
        215.281501,
        129.021448,
        126.809651,
        106.16622,
        28.016086,
    ]
    assert len(region) * 2 == len(except_region)

    for i in range(len(region)):
        assert region[i].x == except_region[i * 2]
        assert region[i].y == except_region[i * 2 + 1]
